Если нужен код, который падает при малейшем удобном случае - вам сюда: falling version. Это за одним и код по заданию.

Если нужен код, который замучает пользователя, но заставит ввести всё правильно - вам сюда: working version.

В папке list_of_people сохранены тесты двух версий:
falling_version - названия строчными буквами формат .rtf
working_version - названия заглавными буквами формат .txt